{% extends 'superadmin/index.html' %}
{% block content %}
<style>
.stats-cards { display: flex; gap: 20px; margin-bottom: 20px; }
.stats-card { background: #fff; padding: 20px; border-radius: 8px; flex: 1; text-align: center; box-shadow: 0 1px 3px rgba(0,0,0,0.1); }
.stats-card h3 { margin: 0 0 10px 0; font-size: 16px; color: #555; }
.stats-card p { font-size: 24px; font-weight: 600; margin: 0; color: #333; }
.table-wrapper { background: #fff; padding: 15px; border-radius: 8px; box-shadow: 0 1px 3px rgba(0,0,0,0.05); }
table { width: 100%; border-collapse: collapse; }
th, td { padding: 10px; border-bottom: 1px solid #eee; text-align: left; }
th { background-color: #f5f5f5; }
</style>

<div class="page-header">
    <h2>Admin Dashboard</h2>
</div>

<div class="stats-cards">
    <div class="stats-card">
        <h3>Total Documents</h3>
        <p>{{ stats.total_documents }}</p>
    </div>
    <div class="stats-card">
        <h3>Pending</h3>
        <p>{{ stats.pending }}</p>
    </div>
    <div class="stats-card">
        <h3>Completed</h3>
        <p>{{ stats.completed }}</p>
    </div>
    <div class="stats-card">
        <h3>Overdue</h3>
        <p>{{ stats.overdue }}</p>
    </div>
</div>

<div class="table-wrapper">
    <h3>Latest Documents</h3>
    <table>
        <thead>
            <tr>
                <th>Control</th>
                <th>Department</th>
                <th>Type</th>
                <th>Amount</th>
                <th>Payee</th>
                <th>Status</th>
                <th>Date In</th>
                <th>Actions</th>
            </tr>
        </thead>
        <tbody>
            {% for record in latest %}
            <tr>
                <td>{{ record.control }}</td>
                <td>{{ record.department }}</td>
                <td>{{ record.type }}</td>
                <td>{{ record.amount }}</td>
                <td>{{ record.payee }}</td>
                <td>{{ record.status }}</td>
                <td>{{ record.date_in.strftime('%Y-%m-%d') if record.date_in else '' }}</td>
                <td>
                    <a href="{{ url_for('main.edit_record', id=record.id) }}">Edit</a> |
                    <a href="{{ url_for('main.delete_record', id=record.id) }}" onclick="return confirm('Are you sure?')">Delete</a>
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>

<a href="{{ url_for('main.add_record') }}" class="btn btn-primary" style="margin-top:15px;">Add New Document</a>
{% endblock %}
